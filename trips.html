<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Great Bulgarian Camper Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Earth Tones -->
    <!-- Application Structure Plan: A single-page application with a top navigation bar linking to two main sections: "The Journeys" and "Traveler's Guide". The "Journeys" section features a grid of interactive cards for the six trips. Clicking a card dynamically populates a detailed view below it, featuring the trip's description, an interactive daily timeline, and a comparative radar chart. This structure was chosen to prioritize the exciting travel options, allowing users to easily compare and explore them without leaving the page, while keeping essential practical information neatly organized and accessible in a separate, collapsible section. This non-linear approach enhances user engagement and simplifies information discovery compared to the original report's linear format. -->
    <!-- Visualization & Content Choices: 
        - Report Info: 6 distinct trip themes. Goal: Compare/Select. Viz/Method: Interactive HTML cards with icons. Interaction: Click to show details. Justification: Visual, quick comparison. Library: HTML/CSS.
        - Report Info: 9-day itineraries. Goal: Organize/Inform. Viz/Method: Clickable vertical timeline. Interaction: Click day to expand details. Justification: Manages information density, prevents long scrolling. Library: HTML/JS.
        - Report Info: Trip characteristics (adventure, culture, etc.). Goal: Compare. Viz/Method: Radar Chart. Interaction: Updates on trip selection. Justification: Provides an immediate "at-a-glance" profile of each trip's focus. Library: Chart.js.
        - Report Info: Driving/Camping Rules. Goal: Inform. Viz/Method: Collapsible text sections. Interaction: Click to expand/collapse. Justification: Keeps practical data accessible but unobtrusive. Library: HTML/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4B4B4B;
        }
        .bg-warm-beige { background-color: #F5F1E9; }
        .bg-accent-green { background-color: #6B7A5C; }
        .text-accent-green { color: #6B7A5C; }
        .border-accent-green { border-color: #6B7A5C; }
        .bg-dark-green { background-color: #4A5540; }
        .text-dark-green { color: #4A5540; }
        .nav-link {
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        .nav-link:hover, .nav-link.active {
            color: #6B7A5C;
            border-bottom-color: #6B7A5C;
        }
        .trip-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .trip-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .timeline-item-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .timeline-item-content.open {
            max-height: 500px; /* Adjust as needed */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        .guide-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s ease-in-out;
        }
        .guide-content.open {
            max-height: 1000px; /* Adjust as needed */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header class="bg-warm-beige/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-dark-green">
                üöê The Great Bulgarian Road Trip
            </h1>
            <div class="flex items-center space-x-4 md:space-x-8 text-sm md:text-base font-medium">
                <a href="#journeys" class="nav-link border-b-2 border-transparent pb-1">The Journeys</a>
                <a href="#guide" class="nav-link border-b-2 border-transparent pb-1">Traveler's Guide</a>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <div class="relative h-[60vh] md:h-[70vh] bg-cover bg-center bg-no-repeat" style="background-image: url('static/nevski.jpeg');">
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>
        <div class="relative z-10 flex items-center justify-center h-full">
            <div class="text-center text-white px-4">
                <h1 class="text-4xl md:text-6xl font-bold mb-4">The Great Bulgarian Journey</h1>
                <p class="text-xl md:text-2xl font-light">Six Selected Adventures for 2026</p>
            </div>
        </div>
    </div>

    <main class="container mx-auto p-4 md:p-8">
        <!-- The Journeys Section -->
        <section id="journeys" class="section">
            <div class="text-center mb-12 mt-12">
                <h2 class="text-3xl md:text-4xl font-bold text-dark-green mb-2">Six Selected Journeys for 2026</h2>
                <p class="max-w-3xl mx-auto text-gray-600">
                    Each journey is designed to offer a unique experience in Bulgaria. Choose the adventure that calls to you and prepare to explore.
                </p>
            </div>

            <!-- Trip Selection Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <!-- Cards will be injected here by JS -->
            </div>

            <!-- Trip Detail View -->
            <div id="trip-detail-container" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-gray-200/80 transition-opacity duration-500 min-h-[500px]">
                <!-- Details will be injected here -->
                <div id="trip-placeholder" class="flex flex-col items-center justify-center text-center h-full text-gray-500 py-20">
                     <svg class="w-16 h-16 mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V7.618a1 1 0 01.553-.894L9 4m0 16v-8h6v8m6-8l-5.447 2.724A1 1 0 0115 7.618V16.382a1 1 0 01-.553.894L9 20"></path></svg>
                    <h3 class="text-xl font-semibold">Select a journey to see the details</h3>
                    <p class="mt-2 max-w-sm">Click on one of the cards above to load the full route, highlights and unique "DNA profile" of the journey.</p>
                </div>
            </div>
        </section>

        <!-- Traveler's Guide Section -->
        <section id="guide" class="section">
             <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-dark-green mb-2">Traveler's Guide</h2>
                <p class="max-w-3xl mx-auto text-gray-600">
                    Important information for safe and enjoyable camper travel throughout Bulgaria. Here you will find key driving rules, camping tips and our code of responsible behavior.
                </p>
            </div>
            <div class="max-w-4xl mx-auto space-y-4">
                <!-- Guide content will be injected here -->
            </div>
        </section>

    </main>

    <footer class="bg-warm-beige mt-12 py-6">
        <div class="container mx-auto text-center text-gray-500 text-sm">
            <p>&copy; 2025 The Great Bulgarian Road Trip. All rights reserved.</p>
            <p class="mt-1">Designed to inspire adventures.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const tripsData = [
        {
            id: 'unboxing',
            title: 'Unboxing Bulgaria: Easter Odyssey',
            dates: 'April 11 ‚Äì April 19, 2026',
            icon: 'ü•ö',
            concept: 'This first journey is a grand introduction to the heart of Bulgaria, coinciding with the colorful and deeply traditional Orthodox Easter. It offers deep cultural immersion, traveling from the spiritual center of the nation - Rila Monastery, to the medieval capital Veliko Tarnovo.',
            dna: { culture: 9, history: 8, nature: 6, adventure: 4, relaxation: 5 },
            itinerary: [
                { day: 1, title: 'Sofia ‚Üí Sapareva Banya', details: 'Departure from Sofia, accommodation at 7 Lakes Camping. Afternoon exploring Sapareva Banya, famous for the hottest geyser in Europe and observing Easter preparations.' },
                { day: 2, title: 'Easter at Rila Monastery', details: 'Visit to Rila Monastery on Easter Day. Participate in celebrations and the Bulgarian tradition of egg tapping.' },
                { day: 3, title: 'Sapareva Banya ‚Üí Plovdiv', details: 'Journey to Plovdiv. Walk through the Old Town, Roman Theatre and the artistic Kapana quarter.' },
                { day: 4, title: 'Plovdiv ‚Üí Koprivshtitsa', details: 'Visit to the Thracian cult complex in Starosel, then head to the museum town of Koprivshtitsa. Overnight with permission.' },
                { day: 5, title: 'Koprivshtitsa ‚Üí Veliko Tarnovo', details: 'Visit to Troyan Monastery and the craft village of Oreshak on the way to the medieval capital.' },
                { day: 6, title: 'Exploring Veliko Tarnovo', details: 'Full day dedicated to Tsarevets fortress and Samovodska Charshia.' },
                { day: 7, title: 'Veliko Tarnovo ‚Üí Iskar Gorge', details: 'Stop at Dryanovo Monastery and Bacho Kiro cave. Continue to the scenic Iskar Gorge.' },
                { day: 8, title: 'Heart of Iskar Gorge', details: 'Hiking on Vazova eco-trail and exploring Lakatnik rocks. Overnight with permission.' },
                { day: 9, title: 'Iskar Gorge ‚Üí Sofia', details: 'Short scenic journey back to Sofia, concluding the adventure.' },
            ]
        },
        {
            id: 'thracians',
            title: 'The Glorious Thracians and Valley of the Kings',
            dates: 'May 16 ‚Äì May 24, 2026',
            icon: 'üè∫',
            concept: 'This journey is a deep immersion into the world of the ancient Thracians, a civilization that flourished on Bulgarian lands. We will trace their history from magnificent cult complexes and royal tombs to the sacred rock city of Perperikon.',
            dna: { culture: 7, history: 10, nature: 6, adventure: 6, relaxation: 3 },
            itinerary: [
                 { day: 1, title: 'Sofia ‚Üí Plovdiv via Starosel', details: 'Departure from Sofia, stop to explore the Thracian cult complex in Starosel. Arrival in Plovdiv.' },
                 { day: 2, title: 'Exploring Plovdiv', details: 'Full day for the Old Town, Roman Theatre and Kapana quarter.' },
                 { day: 3, title: 'Plovdiv ‚Üí Kazanlak', details: 'Journey to the Valley of Thracian rulers, visit to Kazanlak Tomb (UNESCO).' },
                 { day: 4, title: 'Kazanlak and Shipka', details: 'Exploring Golyama Kosmatka tomb and Shipka Memorial Temple.' },
                 { day: 5, title: 'Kazanlak ‚Üí Haskovo', details: 'Journey south to Alexandrovo tomb and Museum of Thracian Art.' },
                 { day: 6, title: 'Ancient city of Perperikon', details: 'Full day dedicated to exploring the mystical rock city of Perperikon.' },
                 { day: 7, title: 'Kardzhali ‚Üí Trigrad Gorge', details: 'Stop at the natural phenomenon Stone Mushrooms and scenic journey in the Rhodopes. Overnight with permission.' },
                 { day: 8, title: 'Trigrad Gorge ‚Üí Batak Reservoir', details: 'Visit to Devil\'s Throat and Yagodina caves.' },
                 { day: 9, title: 'Batak Reservoir ‚Üí Sofia', details: 'Return to Sofia on Bulgarian Education and Culture Day.' },
            ]
        },
        {
            id: 'roses',
            title: 'Rose Picking and Balkan Peaks',
            dates: 'May 30 ‚Äì June 7, 2026',
            icon: 'üåπ',
            concept: 'Immersion in the aromas of Bulgaria\'s most famous festival ‚Äì the Rose Festival in Kazanlak. The route is designed around the festival\'s culmination, from participating in the rose picking ritual to the grand parade.',
            dna: { culture: 10, history: 7, nature: 7, adventure: 3, relaxation: 6 },
            itinerary: [
                { day: 1, title: 'Sofia ‚Üí Veliko Tarnovo', details: 'Direct journey to the medieval capital and camping accommodation.' },
                { day: 2, title: 'Veliko Tarnovo and Arbanasi', details: 'Exploring Tsarevets and the architectural reserve of Arbanasi.' },
                { day: 3, title: 'Veliko Tarnovo ‚Üí Shipka Pass', details: 'Visit to Ethnographic complex Etar and ascent to historic Shipka Pass. Overnight with permission.' },
                { day: 4, title: 'Shipka ‚Üí Kazanlak via Buzludzha', details: 'Stop at Buzludzha monument and descent into the Rose Valley.' },
                { day: 5, title: 'Heart of the Rose Valley', details: 'Visit to "Damascena" rose distillation complex and relaxation by Koprineka reservoir.' },
                { day: 6, title: 'Day trip to Karlovo', details: 'Exploring Vasil Levski\'s hometown and its rose celebrations.' },
                { day: 7, title: 'Beginning of the Rose Festival', details: 'Exploring Kazanlak, rose product markets and folk concerts.' },
                { day: 8, title: 'The Rose Picking Ritual', details: 'Early morning participation in authentic rose picking ritual in a nearby village.' },
                { day: 9, title: 'The Grand Parade and return to Sofia', details: 'Watching the final carnival parade in Kazanlak before departure to Sofia.' },
            ]
        },
        {
            id: 'mountains',
            title: 'Mountain Peaks and Glacial Lakes',
            dates: 'July 11 ‚Äì July 19, 2026',
            icon: 'üèîÔ∏è',
            concept: 'A trekking adventure for those who hear the call of Bulgaria\'s highest peaks. The journey delves deep into the alpine grandeur of Rila and Pirin, with hikes to the Seven Rila Lakes and Vihren peak.',
            dna: { culture: 3, history: 4, nature: 10, adventure: 9, relaxation: 4 },
            itinerary: [
                { day: 1, title: 'Sofia ‚Üí Sapareva Banya', details: 'Short journey to the foot of Rila. Relaxation in thermal pools.' },
                { day: 2, title: 'Hike to the Seven Rila Lakes', details: 'Full day dedicated to one of Bulgaria\'s most emblematic hikes.' },
                { day: 3, title: 'Sapareva Banya ‚Üí Rila Monastery', details: 'Visit to Rila Monastery, UNESCO site.' },
                { day: 4, title: 'Rila ‚Üí Bansko', details: 'Transfer to Pirin and walk in Bansko\'s old town. Overnight with permission.' },
                { day: 5, title: 'Hiking in Pirin: Vihren Hut', details: 'Hike to Muratovo or Okoto lake with views of Vihren peak.' },
                { day: 6, title: 'Hiking to Bezbog Hut and lake', details: 'Lift ascent to Bezbog hut and easy hike in the alpine area. Overnight with permission.' },
                { day: 7, title: 'Bansko ‚Üí Leshten/Kovachevitsa', details: 'Visit to architectural reserves Leshten and Kovachevitsa.' },
                { day: 8, title: 'Leshten ‚Üí Velingrad', details: 'Scenic journey to the "SPA capital of the Balkans" for well-deserved rest.' },
                { day: 9, title: 'Velingrad ‚Üí Sofia', details: 'Peaceful morning at the thermal camping and return to Sofia.' },
            ]
        },
        {
            id: 'sea',
            title: 'Let\'s See the Sea: Black Sea Coast Journey',
            dates: 'August 15 ‚Äì August 23, 2026',
            icon: 'üåä',
            concept: 'A celebration of the Bulgarian Black Sea coast at the height of summer. The journey explores the southern coastline, from ancient Nessebar to wild beaches near the Turkish border.',
            dna: { culture: 6, history: 7, nature: 8, adventure: 5, relaxation: 9 },
            itinerary: [
                { day: 1, title: 'Sofia ‚Üí Plovdiv', details: 'Breaking the long journey to the sea with an overnight stay in Plovdiv.' },
                { day: 2, title: 'Plovdiv ‚Üí Sozopol', details: 'Journey to the coast and exploring Sozopol\'s old town.' },
                { day: 3, title: 'Sozopol and Ropotamo', details: 'Beach time and boat trip along Ropotamo river.' },
                { day: 4, title: 'Sozopol ‚Üí Sinemorets', details: 'Journey south to wild beaches Veleka and Silistar.' },
                { day: 5, title: 'Strandzha Nature Park', details: 'Exploring the mystical Strandzha mountain. Overnight with permission.' },
                { day: 6, title: 'Strandzha ‚Üí Nessebar', details: 'Journey north with a walk in Burgas Sea Garden.' },
                { day: 7, title: 'Nessebar and Sunny Beach', details: 'Exploring UNESCO site Nessebar and contrast with Sunny Beach.' },
                { day: 8, title: 'Obzor ‚Üí Madara Horseman', details: 'Historical detour to Pliska and Madara Horseman. Overnight with permission.' },
                { day: 9, title: 'Madara ‚Üí Sofia', details: 'Final leg of the journey back to the capital.' },
            ]
        },
        {
            id: 'wine',
            title: 'Bulgarian Wines and Autumn Festivals',
            dates: 'September 5 ‚Äì September 13, 2026',
            icon: 'üçá',
            concept: 'A journey for epicureans that reveals the rich flavors of the Bulgarian wine scene during grape harvest. The route passes through the Thracian Lowland and the wine heart of Melnik.',
            dna: { culture: 8, history: 5, nature: 5, adventure: 2, relaxation: 10 },
            itinerary: [
                 { day: 1, title: 'Sofia ‚Üí Plovdiv', details: 'Easy afternoon journey to Plovdiv to immerse in the culinary scene.' },
                 { day: 2, title: 'Heart of the Thracian Lowland', details: 'On Unification Day, wine tasting of Mavrud variety. Overnight at a winery.' },
                 { day: 3, title: 'Thracian Lowland ‚Üí Batak Reservoir', details: 'Visit to another winery and journey to the coolness of the Rhodopes.' },
                 { day: 4, title: 'Batak ‚Üí Leshten/Kovachevitsa', details: 'Journey by narrow-gauge railway and exploring architectural reserves.' },
                 { day: 5, title: 'Leshten ‚Üí Melnik', details: 'Arrival in Melnik wine region, exploring Kordopulov House and sand pyramids.' },
                 { day: 6, title: 'Day at the winery', details: 'Full tour and tasting at Villa Melnik, our host for several nights.' },
                 { day: 7, title: 'Melnik and Rozhen Monastery', details: 'Visit to one of the best preserved medieval monasteries in Bulgaria.' },
                 { day: 8, title: 'Melnik ‚Üí Rila Monastery', details: 'Last stop at the spiritual monument for farewell dinner.' },
                 { day: 9, title: 'Rila Monastery ‚Üí Sofia', details: 'Return to Sofia after an unforgettable wine and culinary journey.' },
            ]
        }
    ];

    const guideData = [
        {
            title: 'Basic driving rules',
            content: `
                <ul class="list-disc list-inside space-y-2 text-gray-700">
                    <li><b>Vignette:</b> A valid electronic vignette is mandatory for using the national road network. Purchase it online in advance from <a href="https://www.bgtoll.bg" target="_blank" class="text-accent-green underline">www.bgtoll.bg</a> to avoid fines.</li>
                    <li><b>Road conditions:</b> Road quality varies. Highways are good, but secondary roads may have potholes. Drive carefully and avoid unfamiliar rural roads at night.</li>
                    <li><b>Mandatory equipment:</b> Every camper must have a first aid kit, warning triangle and fire extinguisher. Reflective vests for all passengers are highly recommended.</li>
                    <li><b>Traffic rules:</b> Driving is on the right. Using headlights is mandatory at all times, day and night. Blood alcohol limit is 0.05%. Speed limits are 50 km/h in populated areas, 90 km/h outside them and 130 km/h on highways, unless otherwise indicated.</li>
                </ul>
            `
        },
        {
            title: 'Camping: Official and "wild" stops',
            content: `
                <p class="mb-2 text-gray-700">"Wild camping" is officially prohibited in Bulgaria. To avoid risks and ensure comfort, we use a strategy of <strong>"Camping with permission"</strong>. This means we contact landowners (wineries, farms) in advance and obtain their explicit consent to host us.</p>
                <p class="text-gray-700">At official campsites we always make advance reservations for the entire group of 10 campers to guarantee availability, especially during peak season.</p>
            `
        },
        {
            title: 'Responsible camper code',
            content: `
                <dl class="space-y-3 text-gray-700">
                    <div><dt class="font-semibold">Leave no trace:</dt><dd class="pl-4">Pack out all your trash. Leave the place cleaner than you found it.</dd></div>
                    <div><dt class="font-semibold">Fire safety:</dt><dd class="pl-4">Light fires only in designated areas and never leave them unattended.</dd></div>
                    <div><dt class="font-semibold">Protect wildlife:</dt><dd class="pl-4">Observe animals from a distance and never feed them. Secure your food and waste.</dd></div>
                    <div><dt class="font-semibold">Conserve water:</dt><dd class="pl-4">Use water sparingly and treat natural water sources responsibly.</dd></div>
                    <div><dt class="font-semibold">Be a good neighbor:</dt><dd class="pl-4">Respect quiet hours and maintain low noise levels.</dd></div>
                </dl>
            `
        }
    ];

    const grid = document.querySelector('.grid');
    const detailContainer = document.getElementById('trip-detail-container');
    const placeholder = document.getElementById('trip-placeholder');
    let tripChart = null;

    // Populate trip cards
    tripsData.forEach(trip => {
        const card = document.createElement('div');
        card.className = 'trip-card bg-white p-6 rounded-2xl shadow-md border border-gray-200/60 cursor-pointer';
        card.dataset.id = trip.id;
        card.innerHTML = `
            <div class="flex items-center mb-4">
                <div class="text-4xl mr-4">${trip.icon}</div>
                <div>
                    <h3 class="text-xl font-bold text-dark-green">${trip.title}</h3>
                    <p class="text-sm text-gray-500 font-medium">${trip.dates}</p>
                </div>
            </div>
            <p class="text-gray-600 text-sm">${trip.concept.substring(0, 100)}...</p>
        `;
        grid.appendChild(card);
    });

    // Populate guide section
    const guideContainer = document.querySelector('#guide .max-w-4xl');
    guideData.forEach((item, index) => {
        const wrapper = document.createElement('div');
        wrapper.className = 'bg-white rounded-xl border border-gray-200/80 overflow-hidden';
        wrapper.innerHTML = `
            <button class="w-full text-left p-4 flex justify-between items-center guide-toggle">
                <h3 class="text-lg font-semibold text-dark-green">${item.title}</h3>
                <span class="transform transition-transform duration-300 text-accent-green">‚ñº</span>
            </button>
            <div class="guide-content px-4 pb-4">
                ${item.content}
            </div>
        `;
        guideContainer.appendChild(wrapper);
    });


    // Event listener for trip selection
    grid.addEventListener('click', (e) => {
        const card = e.target.closest('.trip-card');
        if (card) {
            const tripId = card.dataset.id;
            const trip = tripsData.find(t => t.id === tripId);
            renderTripDetails(trip);
            
            // Scroll to detail view on smaller screens
            if (window.innerWidth < 768) {
                detailContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
    });
    
    // Event listener for guide toggles
    guideContainer.addEventListener('click', (e) => {
        const toggle = e.target.closest('.guide-toggle');
        if (toggle) {
            const content = toggle.nextElementSibling;
            const arrow = toggle.querySelector('span');
            const isOpen = content.classList.contains('open');

            // Close all others
            document.querySelectorAll('.guide-content.open').forEach(openContent => {
                if(openContent !== content) {
                    openContent.classList.remove('open');
                    openContent.previousElementSibling.querySelector('span').classList.remove('rotate-180');
                }
            });

            // Toggle current
            content.classList.toggle('open');
            arrow.classList.toggle('rotate-180');
        }
    });

    function renderTripDetails(trip) {
        if (placeholder) {
            placeholder.style.display = 'none';
        }

        detailContainer.innerHTML = ''; // Clear previous content
        
        const contentWrapper = document.createElement('div');
        contentWrapper.className = 'fade-in';
        
        contentWrapper.innerHTML = `
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                <div class="lg:col-span-3">
                    <div class="flex items-start mb-4">
                        <div class="text-5xl mr-5 mt-1">${trip.icon}</div>
                        <div>
                            <h2 class="text-3xl font-bold text-dark-green">${trip.title}</h2>
                            <p class="text-md text-gray-500 font-semibold mb-3">${trip.dates}</p>
                        </div>
                    </div>
                    <p class="text-gray-700 mb-6">${trip.concept}</p>
                    
                    <h3 class="text-2xl font-bold text-dark-green mb-4">Daily Route</h3>
                    <div class="space-y-2" id="timeline-container">
                        <!-- Timeline items will be injected here -->
                    </div>
                </div>
                <div class="lg:col-span-2">
                    <h3 class="text-2xl font-bold text-dark-green mb-4 text-center">Journey DNA</h3>
                    <p class="text-center text-sm text-gray-600 mb-4">Comparison of journey focus across key interests.</p>
                    <div class="chart-container">
                        <canvas id="tripChart"></canvas>
                    </div>
                </div>
            </div>
        `;

        detailContainer.appendChild(contentWrapper);

        const timelineContainer = document.getElementById('timeline-container');
        trip.itinerary.forEach(item => {
            const itemEl = document.createElement('div');
            itemEl.className = 'border border-gray-200 rounded-lg overflow-hidden';
            itemEl.innerHTML = `
                <button class="w-full text-left p-3 bg-gray-50 hover:bg-gray-100 transition duration-200 flex justify-between items-center timeline-toggle">
                    <div>
                        <span class="font-bold text-accent-green">Day ${item.day}:</span>
                        <span class="font-semibold ml-2 text-gray-800">${item.title}</span>
                    </div>
                    <span class="transform transition-transform duration-300 text-gray-500 rotate-180">‚ñº</span>
                </button>
                <div class="timeline-item-content open p-4 border-t border-gray-200 bg-white">
                    <p class="text-gray-700">${item.details}</p>
                </div>
            `;
            timelineContainer.appendChild(itemEl);
        });

        timelineContainer.addEventListener('click', (e) => {
            const toggle = e.target.closest('.timeline-toggle');
            if(toggle) {
                const content = toggle.nextElementSibling;
                const arrow = toggle.querySelector('span:last-child');
                content.classList.toggle('open');
                arrow.classList.toggle('rotate-180');
            }
        });
        
        renderChart(trip.dna);
    }
    
    function renderChart(dnaData) {
        const ctx = document.getElementById('tripChart').getContext('2d');
        if (tripChart) {
            tripChart.destroy();
        }
        tripChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['Culture', 'History', 'Nature', 'Adventure', 'Relaxation'],
                datasets: [{
                    label: 'Journey Focus',
                    data: [dnaData.culture, dnaData.history, dnaData.nature, dnaData.adventure, dnaData.relaxation],
                    backgroundColor: 'rgba(107, 122, 92, 0.2)',
                    borderColor: 'rgba(107, 122, 92, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(107, 122, 92, 1)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgba(107, 122, 92, 1)'
                }]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                        grid: { color: 'rgba(0, 0, 0, 0.1)' },
                        pointLabels: {
                            font: { size: 12, weight: 'bold' },
                            color: '#4B4B4B'
                        },
                        ticks: {
                            beginAtZero: true,
                            min: 0,
                            max: 10,
                            stepSize: 2,
                            backdropColor: 'transparent',
                            color: '#718096'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    }

    // Navigation logic
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('.section');

    function updateActiveState(hash) {
        let activeSection = null;
        sections.forEach(section => {
            if (`#${section.id}` === hash) {
                section.classList.add('active');
                activeSection = section;
            } else {
                section.classList.remove('active');
            }
        });

        if (!activeSection) {
            document.getElementById('journeys').classList.add('active');
            hash = '#journeys';
        }

        navLinks.forEach(link => {
            if (link.getAttribute('href') === hash) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    navLinks.forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            const targetId = e.currentTarget.getAttribute('href');
            history.pushState(null, '', targetId);
            updateActiveState(targetId);
        });
    });

    // Initial load
    updateActiveState(window.location.hash || '#journeys');
    window.addEventListener('popstate', () => updateActiveState(window.location.hash));

});
</script>

</body>
</html>
